{% extends 'TechCorpFrontBundle::layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="/symphony2_201810/projectSymfony2/web/bundles/techcorpfront/css/style.css" />
{% endblock stylesheets %}


{% block content %}
    <div class="container">
        <h1>Timeline de {{ user.username }}</h1>
        {% if is_granted('IS_AUTHENTICATED_REMEMBERED') and app.user == user %}
            {% if not app.user.hasFriend(user) %}
                <button class="btn btn-primary add-friend" data-user-id="{{ user.id }}">Ajouter à la liste d'amis</button>
            {% else %}
                <button class="btn btn-primary remove-friend" data-user-id="{{ user.id }}">Supprimer de la liste d'amis</button>
            {% endif %}
        {% endif %}

        {% if statuses != null %}
            <div class="container">
                {% for status in statuses %}
                    {% include 'TechCorpFrontBundle:_components:status.html.twig' with {status: status} %}
                        {% if not loop.last %}
                            <hr class="status-separator" />
                        {% endif %}
                {% endfor %}
            </div>
        {% else %}
            <p>
                Cet utilisateur n'a pour le moment rien publié.
            </p>
        {% endif %}

        <h2>Liste des personnes ajoutées</h2>
        {% for currFriend in user.friends %}
            <p>{{ currFriend.username }}</p>
        {% else %}
            <p>Cet utilisateur n'a pas d'ami.</p>
        {% endfor %}
    </div>
{% endblock content %}
